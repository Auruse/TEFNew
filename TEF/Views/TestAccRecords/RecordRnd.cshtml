@model TEF.Models.TestAccRecord

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";}

@if(Model != null) {
    int cur = Model.Id * 100 / 7;
    <div class="container text-center">
        <div class="alert alert-success text-center" role="alert">
            Вы ответили на @Model.Id вопросов из 7. Правильно - Х(Х %)
        </div>
        <div class="progress mb-3">
            <div class="progress-bar progress-bar-striped bg-success" role="progressbar" style="width: @cur%" aria-valuenow="@cur" aria-valuemin="0" aria-valuemax="100"></div>
        </div>

        <div class="card border-primary mb-3" style="max-width: 100%;">
            <div class="card-header">Вопрос №Х</div>
            <div class="card-body text-primary">
                <h5 class="card-title">@Html.DisplayFor(model => model.Desc)</h5>
                @*<p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>*@
                @Html.DisplayFor(model => model.Answers)
                <div class="container text-left">
                    @{ int qid = 1;
                        foreach (var answerChoice in Model.Answers.Split('|'))
                        {
                            if (answerChoice.Contains(';'))
                            {
                                var ans = answerChoice.Split(';');
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="exampleRadios" id=@qid value=@qid checked>
                                    <label class="form-check-label" for=@qid>
                                        Дт @ans[0] Кт @ans[1]
                                    </label>
                                </div>
                            }
                            else
                            {
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="exampleRadios" id=@qid value=@qid checked>
                                    <label class="form-check-label" for=@qid>
                                        @answerChoice
                                    </label>
                                </div>
                            }
                            qid += 1;
                        }
                    }

                </div>
                <button type="button" class="btn btn-outline-success" onclick="location.href='@Url.Action("RecordRnd","TestAccRecords",new { id=Model.Id+1 })'">Подтвердить</button>

                <button type="button" class="btn btn-outline-secondary" onclick="location.href='@Url.Action("RecordRnd","TestAccRecords")'">Пропустить</button>
            </div>
        </div>
    </div>
    }
        else
        {
        <div class="card border-primary mb-3" style="max-width: 100%;">
            <div class="card-header">Вы ответили на все вопросы</div>
        </div>
        }
  
